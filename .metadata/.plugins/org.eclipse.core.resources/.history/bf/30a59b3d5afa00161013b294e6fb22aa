import pygame



class JoystickReader:
    
    def __init__(self, joystick):
        self.joystick = joystick
        self.axis_x1 = 0.0
        self.axis_y1 = 0.0
        self.axis_x2 = 0.0
        self.axis_y2 = 0.0
        self.axis_lt = 0.0
        self.axis_rt = 0.0
        
        self.btn_a = False
        self.btn_b = False
        self.btn_x = False
        self.btn_y = False
        
    
    def updateValues(self):
        self.axis_x1 = self.joystick.get_axis(0)
        self.axis_y1 = self.joystick.get_axis(1)
        self.axis_x2 = self.joystick.get_axis(4)
        self.axis_y2 = self.joystick.get_axis(3)
        trigger_axis = self.joystick.get_axis(2)
        if(trigger_axis >= 0):
            self.axis_lt = trigger_axis
            self.axis_rt = 0
        else:
            self.axis_lt = 0
            self.axis_rt = -trigger_axis
        
    def printAxes(self):
        print self.axis_x1, self.axis_y1, self.axis_x2, self.axis_y2, self.axis_lt, self.axis_rt
        

if __name__ == "__main__":
    pygame.init()
    pygame.joystick.init()
    joystick1 = pygame.joystick.Joystick(0)
    joystick1.init()
    jReader = JoystickReader(joystick1)
    while True:
        pygame.event.get()
        jReader.updateValues()
        jReader.printAxes()
    